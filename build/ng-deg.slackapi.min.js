/*! ng-deg.slackapi v1.0 (c) 2015 Nick Aranzamendi */
"use strict";!function(e){var n=e.module("Deg.SlackApi",[]);n.value("slackConfig",{OAuthUrl:"https://slack.com/oauth/authorize",ApiUrl:"https://slack.com/api/",DefaultToken:""})}(angular),function(e){e.module("Deg.SlackApi").service("slackSvc",["$http","$log","slackConfig",function(e,n,t){function o(e,n,o){var a={token:o||t.DefaultToken,user:e};b("users.getPresence",a,n)}function a(e,n,o){var a={token:o||t.DefaultToken,user:e};b("users.info",a,n)}function c(e,n){var o={token:n||t.DefaultToken};b("users.list",o,e)}function i(e,n){var o={token:n||t.DefaultToken};b("users.setActive",o,e)}function u(e,n,o){var a={token:o||t.DefaultToken,presence:e};b("users.setPresence",a,n)}function l(e){var n={token:e||t.DefaultToken};b("auth.test",n)}function s(e,n){var o="&"+G(n),a=t.OAuthUrl+"?client_id="+e+o;window.location.replace(a)}function r(e,n){t.DefaultToken=e,k(n)}function f(e,n,t,o){var a={client_id:e,client_secret:n,code:t};b("oauth.access",a,o)}function k(e,n){var o={token:n||t.DefaultToken};b("auth.test",o,e)}function h(e,n,o){var a={token:o||t.DefaultToken,channel:e};b("channels.archive",a,n)}function v(e,n,o){var a={token:o||t.DefaultToken,channel:e};b("channels.unarchive",a,n)}function T(e,n,o){var a={token:o||t.DefaultToken,channel:e};b("channels.history",a,n)}function D(e,n,o,a){var c={token:a||t.DefaultToken,channel:e,user:n};b("channels.invite",c,o)}function p(e,n,o){var a={token:o||t.DefaultToken,channel:e};b("channels.join",a,n)}function m(e,n,o,a){var c={token:a||t.DefaultToken,channel:e,user:n};b("channels.kick",c,o)}function g(e,n,o){var a={token:o||t.DefaultToken,channel:e};b("channels.leave",a,n)}function d(e,n,o,a){var c={token:a||t.DefaultToken,channel:e,ts:n};b("channels.mark",c,o)}function A(e,n,o){var a={token:o||t.DefaultToken,channel:e};b("channels.rename",a,n)}function y(e,n,o,a){var c={token:a||t.DefaultToken,channel:e,purpose:n};b("channels.setPurpose",c,o)}function P(e,n,o,a){var c={token:a||t.DefaultToken,channel:e,topic:n};b("channels.setTopic",c,o)}function U(e,n){var o={token:n||t.DefaultToken};b("channels.list",o,e)}function C(e,n,o){var a={token:o||t.DefaultToken,channel:e};b("channels.info",a,n)}function q(e,n,o){var a={token:o||t.DefaultToken,name:e};b("channels.create",a,n)}function M(e,n,o,a){var c={token:a||t.DefaultToken,channel:e,text:n};b("chat.postMessage",c,o)}function j(e,n,o,a){var c={token:a||t.DefaultToken,channel:e,ts:n};b("chat.delete",c,o)}function w(e,n,o,a,c){var i={token:c||t.DefaultToken,channel:e,ts:n,text:o};b("chat.update",i,a)}function x(e,n){var o={token:n||t.DefaultToken};b("team.info",o,e)}function z(e,n){var o={token:n||t.DefaultToken};b("team.accessLogs",o,e)}function I(e,n,o){var a={token:o||t.DefaultToken,file:e};b("files.delete",a,n)}function O(e,n,o){var a={token:o||t.DefaultToken,file:e};b("files.info",a,n)}function R(e,n){var o={token:n||t.DefaultToken};b("files.list",o,e)}function S(e,n){if(e.token=token||t.DefaultToken,e.content){var o=t.ApiUrl+"files.upload";F(o,e,n)}b("files.upload",e,n)}function _(e,n,o){var a={token:o||t.DefaultToken,query:e};b("search.files",a,n)}function L(e,n,o){var a={token:o||t.DefaultToken,query:e};b("search.all",a,n)}function $(e,n,o){var a={token:o||t.DefaultToken,query:e};b("search.messages",a,n)}function E(e,n,o){var a={token:o||t.DefaultToken,user:e};b("stars.list",a,n)}function b(e,n,o){var a=G(n),c=t.ApiUrl+e+"?"+a;B(c,o)}function B(t,o){e.get(t).success(function(e){o&&o(e)}).error(function(e,t){n.log(t),n.log(e)})}function F(t,o,a){e.post(t,o).success(function(e){a(e)}).error(function(e,t){n.log(t),n.log(e)})}function G(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}function H(){n.log("Method not implemented. Remind nickaranz@gmail.com to quit slacking")}return{authorize:s,auth:{test:k},oauth:{access:f},channels:{archive:h,create:q,history:T,info:C,invite:D,join:p,kick:m,leave:g,list:U,mark:d,rename:A,setPurpose:y,setTopic:P,unarchive:v},chat:{"delete":j,postMessage:M,update:w},files:{"delete":I,info:O,list:R,upload:S},rtm:{start:l},search:{all:L,files:_,messages:$},stars:{list:E},team:{accessLogs:z,info:x},users:{getPresence:o,info:a,list:c,setActive:i,setPresence:u},InitToken:r,ExecuteApiMethod:b,groups:{archive:H,close:H,create:H,createChild:H,history:H,invite:H,kick:H,leave:H,list:H,mark:H,open:H,rename:H,setPurpose:H,setTopic:H,unarchive:H},im:{close:H,history:H,list:H,mark:H,open:H}}}])}(angular);